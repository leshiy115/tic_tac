import sys
import copy
import random
import time


lst_r = [f"{y}{x}" for x in range(3) for y in range(3)]  # –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–º –∏ —Å–æ–∑–¥–∞–Ω–∏—è —Å–ª–æ–≤–∞—Ä—è –ø–æ–ª—è
fild = ["-" for _ in range(9)]  # –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —á–∏—Å—Ç–æ–≥–æ –ø–æ–ª—è
cell_dict = {f"{x}": i for i, x in enumerate(lst_r)}  # –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª–æ–≤–∞—Ä—è –¥–ª—è –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–∞ –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º
cell_dict_ai = {f"{i}": x for i, x in enumerate(lst_r)}  # –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª–æ–≤–∞—Ä—è –¥–ª—è –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –ø–æ –∏–Ω–¥–µ–∫—Å—É
win_speaks = ['üí™ (`‚ñø¬¥) üëä - –ò –æ–ø—è—Ç—å –∂–µ–ª–µ–∑–æ –≤—Å–µ–≥–¥–∞ –±—å–µ—Ç –º—è—Å–æ!',
              '(“Ç‚ó°ÃÄ_‚ó°ÃÅ)·ï§  - –õ–µ–≥–∫–æ!',
              'Ÿ©(Àò‚ó°Àò)€∂ - –ü–æ–≤–µ–∑–µ—Ç –≤ –¥—Ä—É–≥–æ–π —Ä–∞–∑!\n((‚âñ·∑ÜÔ∏µÔ∏£‚âñ)üëé - –í–æ–æ–±—â–µ-—Ç–æ –Ω–µ—Ç )',
              '(‚âñ_‚âñ ) - –ö–∞–∫ —Ä–µ–±–µ–Ω–∫–∞...']
u_cant_win_speaks = ['–†–∞–∑–º–µ—á—Ç–∞–ª—Å—è...',
                     "(‡∏áÔ∏°'-'Ô∏†)‡∏á - –ù–µ–∞!",
                     ' (Õ†‚âñ Õú ñÕ†‚âñ)üëå - –ù–µ–ø–ª–æ—Ö–∞—è –ø–æ–ø—ã—Ç–∫–∞.',
                     '(Õ°‚Ä¢ Õú ñ Õ°‚Ä¢) - –Ø –≤—Å–µ –≤–∏–∂—É!',
                     ]
rand_speak = ['v( ‚Äò.‚Äô )v - –ê –µ—Å–ª–∏ —Ç–∞–∫.',
              '',
              'v( ‚Äò.‚Äô )v - –î–æ–ø—É—Å—Ç–∏–º —Ç–∞–∫.',
              '',
              'v( ‚Äò.‚Äô )v - –ü–æ–ø—Ä–æ–±—É–µ–º —Ç–∞–∫.',
              '',
              '']


def win_check(fild):
    """–§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∏–≥—Ä—ã. –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–∞ –ª–∏–Ω–∏—è –∏–∑ "–æ" –∏–ª–∏ "—Ö",
     –º–µ–Ω—è–µ—Ç —Å–∏–º–≤–æ–ª—ã –ø–æ–±–µ–¥–Ω–æ–π –ª–∏–Ω–∏–∏ –Ω–∞ –ø–æ–¥—á–µ—Ä–∫–Ω—É—Ç—ã–µ"""
    win_z = ['x', 'x', 'x']
    win_c = ['o', 'o', 'o']
    diag = [fild[0], fild[4], fild[8]]
    diag_r = [fild[2], fild[4], fild[6]]
    win_row_c = ['XÃ≤', 'XÃ≤', 'XÃ≤']
    win_row_z = ['OÃ≤', 'OÃ≤', 'OÃ≤']

    for step in range(3):  # –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã—Ö –ª–∏–Ω–∏–π
        row = fild[3*step:3*(step+1)]
        if row == win_z:
            fild[3 * step:3 * (step + 1)] = win_row_c
            return 'x'
        if row == win_c:
            fild[3 * step:3 * (step + 1)] = win_row_z
            return 'o'

    for step in range(3):  # –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã—Ö –ª–∏–Ω–∏–π
        row = fild[step::3]
        if row == win_z:
            fild[step::3] = win_row_c
            return 'x'
        if row == win_c:
            fild[step::3] = win_row_z
            return 'o'

    if diag == win_z:  # –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏–∞–≥–æ–Ω–∞–ª–∏
        fild[0], fild[4], fild[8] = 'XÃ≤', 'XÃ≤', 'XÃ≤'
        return 'x'
    if diag == win_c:
        fild[0], fild[4], fild[8] = 'OÃ≤', 'OÃ≤', 'OÃ≤'
        return 'o'

    if diag_r == win_z:  # –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞—Ç–Ω–æ–π –¥–∏–∞–≥–æ–Ω–∞–ª–∏
        fild[2], fild[4], fild[6] = 'XÃ≤', 'XÃ≤', 'XÃ≤'
        return 'x'
    if diag_r == win_c:
        fild[2], fild[4], fild[6] = 'OÃ≤', 'OÃ≤', 'OÃ≤'
        return 'o'


def reboot_fild():  # –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—è
    global fild
    fild = ["-" for _ in range(9)]


def pr_fild(x_y=None):  # –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–ª—è
    """–§—É–Ω–∫—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–ª—è"""
    global fild

    if x_y:
        print(f"–ò–ò —Å—Ç–∞–≤–∏—Ç –∫—Ä–µ—Å—Ç–∏–∫ –Ω–∞: {x_y}")
    print("   0  1  2")
    print(f"0  {fild[0]}  {fild[1]}  {fild[2]}")
    print(f"1  {fild[3]}  {fild[4]}  {fild[5]}")
    print(f"2  {fild[6]}  {fild[7]}  {fild[8]}")
    print()


def step(pl):  # —Ö–æ–¥ –∏–≥—Ä–æ–∫–∞
    global lst_r
    global fild
    global cell_dict


    while True:
        move = input('–ù–æ–ª–∏–∫ –Ω–∞: ' if pl == 'o' else '–ö—Ä–µ—Å—Ç–∏–∫ –Ω–∞: ')  # —Ö–æ–¥ –Ω–æ–ª–∏–∫–∞
        if move.lower() == 'q':
            reboot_fild()
            menu()
        if move not in lst_r:
            print('–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤–≤–æ–¥!!!')
            continue

        if fild[cell_dict[move]] == '-':
            fild[cell_dict[move]] = pl
            break
        else:
            print('–ö–ª–µ—Ç–∫–∞ –∑–∞–Ω—è—Ç–∞!')
            continue



c_win = 0
z_win = 0


def game():
    """–í–∞—Ä–∏–∞–Ω—Ç –∏–≥—Ä—ã –¥–ª—è 2-—Ö –∏–≥—Ä–æ–∫–æ–≤"""
    print('\n!! –ò–ì–†–ê –ù–ê–ß–ò–ù–ê–ï–¢–°–Ø !!')
    print('\n–ü—Ä–∞–≤–∏–ª–∞ –∏ —Ç–∞–∫ –∑–Ω–∞–µ–º —Å –¥–µ—Ç—Å—Ç–≤–∞ :-)\n'
          '–í–∞–º –Ω—É–∂–Ω–æ –ø–æ –æ—á–µ—Ä–µ–¥–∏ –≤–≤–æ–¥–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤–∞—à–µ–≥–æ —Ö–æ–¥–∞.\n'
          '–ü–µ—Ä–≤—ã–π —Ö–æ–¥ –≤—Å–µ–≥–¥–∞ –∑–∞ –∫—Ä–µ—Å—Ç–∏–∫–æ–º!\n'
          '–í–≤–æ–¥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ –¥–≤—É—Ö —Ü–∏—Ñ—Ä(–±–µ–∑ –ø—Ä–æ–±–µ–ª–∞), —Å–Ω–∞—á–∞–ª–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –ø–æ –æ—Å–∏ –•, –ø–æ—Ç–æ–º –ø–æ –æ—Å–∏ –£. –ü—Ä–∏–º–µ—Ä: 02\n'
          '(–î–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é –≤–≤–µ–¥–∏—Ç–µ "q")'
          '–ò —Ç–∞–∫ –Ω–∞—á–Ω–µ–º!')
    global c_win
    global z_win
    global fild
    pr_fild()  # –ø—Ä–∏–Ω—Ç —á–∏—Å—Ç–æ–≥–æ –ø–æ–ª—è
    tern = 1  # —Å—á–µ—Ç—á–∏–∫ –∏–≥—Ä—ã

    while True:  # —Ü–∏–∫–ª –∏–≥—Ä—ã
        pl = ('o' if tern % 2 == 0 else 'x')
        step(pl)
        if 4 < tern < 9:
            win = win_check(fild)
            if win:  # –ø—Ä–∏ –≤—ã–∏–≥—Ä—ã—à–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫
                pr_fild()
                print("–ü–æ–±–µ–¥–∏–ª –ö—Ä–µ—Å—Ç–∏–∫!!!" if win == 'x' else "–ü–æ–±–µ–¥–∏–ª –ù–æ–ª–∏–∫!!!")
                if win == "x":
                    c_win += 1
                if win == "o":
                    z_win += 1
                print(f"–°—á–µ—Ç:\n–ö—Ä–µ—Å—Ç–∏–∫:{c_win} - –ù–æ–ª–∏–∫:{z_win}\n")
                break
            pass
        elif tern == 9:
            pr_fild()
            print("–ù–∏—á—å—è!")
            print(f"–°—á–µ—Ç: X: {c_win} vs O: {z_win}\n")
            break
        pr_fild()
        tern += 1



    while True:  # —Ü–∏–∫–ª –≤–æ–ø—Ä–æ—Å–∞ –æ –ø–æ–≤—Ç–æ—Ä–µ –∏–≥—Ä—ã
        again = input("""–ü–æ–≤—Ç–æ—Ä–∏–º?\n'1' == "–î–ê"\n'2' == "–ù–ï–¢"\n–í–≤–µ–¥–∏—Ç–µ —Ü–∏—Ñ—Ä—É: """)
        if again == '1':  # –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–µ, –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø–æ–ª–µ –∏ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç game()
            reboot_fild()
            c_win = 0
            z_win = 0
            game()
            break
        elif again == '2':  # –≤–æ–∑–≤—Ä–∞—Ç –≤ –º–µ–Ω—é –∏ –æ—Ç–∫–∞—Ç —Å—á–µ—Ç–∞
            reboot_fild()
            c_win = 0
            z_win = 0
            return None
        else:
            print("–í–≤–µ–¥–∏—Ç–µ '1' –∏–ª–∏ '0' !!")
            continue


def game_ai(diff):
    """–í–∞—Ä–∏–∞–Ω—Ç –∏–≥—Ä—ã –¥–ª—è –ø—Ä–æ—Ç–∏–≤ –ò–ò –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏"""
    print('\n!! –ò–ì–†–ê –ù–ê–ß–ò–ù–ê–ï–¢–°–Ø !!')
    print('\n–ü—Ä–∞–≤–∏–ª–∞ –∏ —Ç–∞–∫ –∑–Ω–∞–µ–º —Å –¥–µ—Ç—Å—Ç–≤–∞ :-)\n'
          '–í–∞–º –Ω—É–∂–Ω–æ –≤–æ –≤—Ä–µ–º—è —Å–≤–æ–µ–π –æ—á–µ—Ä–µ–¥–∏ –≤–≤–æ–¥–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤–∞—à–µ–≥–æ —Ö–æ–¥–∞.\n'
          '–ü–µ—Ä–≤—ã–π —Ö–æ–¥ –≤—Å–µ–≥–¥–∞ –∑–∞ –∫—Ä–µ—Å—Ç–∏–∫–æ–º!\n'
          '–í–≤–æ–¥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ –¥–≤—É—Ö —Ü–∏—Ñ—Ä(–±–µ–∑ –ø—Ä–æ–±–µ–ª–∞), —Å–Ω–∞—á–∞–ª–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –ø–æ –æ—Å–∏ –•, –ø–æ—Ç–æ–º –ø–æ –æ—Å–∏ –£. –ü—Ä–∏–º–µ—Ä: 02\n'
          '–î–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é –≤–≤–µ–¥–∏—Ç–µ "q"\n'
          '–ò —Ç–∞–∫ –Ω–∞—á–Ω–µ–º!')
    global c_win
    global z_win
    global fild

    reboot_fild()
    pr_fild()  # –ø—Ä–∏–Ω—Ç —á–∏—Å—Ç–æ–≥–æ –ø–æ–ª—è
    tern = 1  # —Å—á–µ—Ç—á–∏–∫ –∏–≥—Ä—ã

    while True:
        x_y = None
        pl = ('o' if tern % 2 == 0 else 'x')
        if pl == 'x':  # –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –ò–ò
            if diff == '1':
                x_y = step_ai_1(pl)
            elif diff == '2':
                x_y = step_ai_2(pl, tern)
        else:
            step(pl)
            x_y = None

        if 4 < tern < 9:  # –° 5 —Ç–æ–≥–æ —Ö–æ–¥–∞ –Ω–∞—á–∞–ª–æ –ø—Ä–æ–≤–µ—Ä–æ–∫ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∏–≥—Ä—ã
            win = win_check(fild)  # –ø—Ä–∏ –≤—ã–∏–≥—Ä—ã—à–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç "x" –∏–ª–∏ "–æ"
            if win:
                pr_fild(x_y)
                print("–ü–æ–±–µ–¥–∏–ª –ö—Ä–µ—Å—Ç–∏–∫!!!" if win == 'x' else "–ü–æ–±–µ–¥–∏–ª –ù–æ–ª–∏–∫!!!")
                if win == "x":
                    c_win += 1
                if win == "o":
                    z_win += 1
                print(f"–°—á–µ—Ç: –ö—Ä–µ—Å—Ç–∏–∫ {c_win} - {z_win} –ù–æ–ª–∏–∫:\n")

                break
            pass

        elif tern == 9:  # –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º —Ö–æ–¥—É
            win = win_check(fild)
            if win:
                pr_fild(x_y)
                print("–ü–æ–±–µ–¥–∏–ª –ö—Ä–µ—Å—Ç–∏–∫!!!" if win == 'x' else "–ü–æ–±–µ–¥–∏–ª –ù–æ–ª–∏–∫!!!")
                if win == "x":
                    c_win += 1
                if win == "o":
                    z_win += 1
                print(f"–°—á–µ—Ç: –ö—Ä–µ—Å—Ç–∏–∫ {c_win} - {z_win} –ù–æ–ª–∏–∫:\n")
                break
            pr_fild(x_y)
            print("–ù–∏—á—å—è!")
            print(f"–°—á–µ—Ç: –ö—Ä–µ—Å—Ç–∏–∫ {c_win} - {z_win} –ù–æ–ª–∏–∫:\n")
            break

        pr_fild(x_y)
        tern += 1


    while True:  # —Ü–∏–∫–ª –≤–æ–ø—Ä–æ—Å–∞ –æ –ø–æ–≤—Ç–æ—Ä–µ –∏–≥—Ä—ã
        again = input("""–ü–æ–≤—Ç–æ—Ä–∏–º?\n'1' == "–î–ê"\n'2' == "–ù–ï–¢"\n–í–≤–µ–¥–∏—Ç–µ —Ü–∏—Ñ—Ä—É: """)

        if again == '1':  # –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–µ, –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø–æ–ª–µ –∏ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç game()
            reboot_fild()
            game_ai(diff)
            break
        elif again == '2':  # –≤–æ–∑–≤—Ä–∞—Ç –≤ –º–µ–Ω—é –∏ –æ—Ç–∫–∞—Ç —Å—á–µ—Ç–∞
            reboot_fild()
            c_win = 0
            z_win = 0
            return
        else:
            print("–í–≤–µ–¥–∏—Ç–µ '1' –∏–ª–∏ '0' !!")
            continue


def step_ai_1(pl):
    """–•–æ–¥ –ò–ò –Ω–∞ –Ω–∏–∑–∫–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏. –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–ª—É—á–∞–µ–Ω"""
    global fild
    global cell_dict_ai
    empty_cells = [i for i, cell in enumerate(fild) if cell == "-"]
    if empty_cells:
        rnd_i = random.choice(empty_cells)
        fild[rnd_i] = pl
        x_y = cell_dict_ai[str(rnd_i)]
        return x_y


def step_ai_2(pl, tern):
    """–•–æ–¥ –ò–ò –Ω–∞ —Å—Ä–µ–¥–Ω–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏. –ü–µ—Ä–≤—ã–µ 2 —Å–ª—É—á–∞–π–Ω—ã—Ö —Ö–æ–¥–∞, –∑–∞—Ç–µ–º –¥–µ–ª–∞–µ—Ç –ø–æ–±–µ–¥–Ω—ã–π –∏–ª–∏ –±–ª–æ–∫–∏—Ä—É—é—â–∏–π —Ö–æ–¥"""
    global fild
    time.sleep(1)
    if tern <= 4:
        print(random.choice(rand_speak))
        return step_ai_1(pl)
    else:
        empty_i = [i for i, cell in enumerate(fild) if cell == '-']
        if len(empty_i) > 1:  # –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Ö–æ–¥–∞ –±–æ–ª—å—à–µ 1
            for i in empty_i:  # —Ü–∏–∫–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ö–æ–¥–æ–≤
                fild_ai = copy.deepcopy(fild)  # –∫–æ–ø–∏—è –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—â–∞—è –æ—Ä–∏–≥–∏–Ω–∞–ª
                fild_ai[i] = pl  # –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Ö–æ–¥
                win = win_check(fild_ai)  # –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Ö–æ–¥–∞
                if win == pl:
                    fild[i] = pl  # –≤ —Å–ª—É—á–∞–µ –ø–æ–±–µ–¥—ã, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ö–æ–¥–∞
                    x_y = cell_dict_ai[str(i)]
                    print(random.choice(win_speaks))
                    return x_y

            for i in empty_i:  # –µ—Å–ª–∏ –Ω–µ –º–æ–∂–µ—Ç –≤—ã–∏–≥—Ä–∞—Ç—å, –Ω–µ –¥–∞–µ—Ç –≤—ã–∏–≥—Ä–∞—Ç—å —Å–æ–ø–µ—Ä–Ω–∏–∫—É
                fild_ai = copy.deepcopy(fild)
                fild_ai[i] = ('o' if pl == 'x' else 'x')
                win = win_check(fild_ai)
                if win == ('o' if pl == 'x' else 'x'):
                    fild[i] = pl
                    x_y = cell_dict_ai[str(i)]
                    print(random.choice(u_cant_win_speaks))
                    return x_y

            return step_ai_1(pl)  # –µ—Å–ª–∏ –Ω–µ –±—ã–ª–æ –±–æ–ª–µ–µ —É–¥–∞—á–Ω–æ–≥–æ —Ö–æ–¥–∞, –¥–µ–ª–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–π
        else:  # –µ—Å–ª–∏ —Ö–æ–¥ –ø–æ—Å–ª–µ–¥–Ω–∏–π
            fild_ai = copy.deepcopy(fild)  # –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–¥–∏ –æ–¥–Ω–æ–π —Ñ—Ä–∞–∑—ã)).
            fild_ai[empty_i[-1]] = pl
            win = win_check(fild_ai)
            if win == ('o' if pl == 'x' else 'x'):
                print('(„ÜÜ_„ÜÜ) - –ö–∞–∫ —Ç—ã —ç—Ç–æ–≥–æ –Ω–µ –∑–∞–º–µ—Ç–∏–ª!!')
            return step_ai_1(pl)


def menu():
    while True:
        """–ú–µ–Ω—é –∏–≥—Ä—ã"""
        choice = input("    \n–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é    \n–í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤, –ø—É—Ç–µ–º –≤–≤–æ–¥–∞ —Å–∏–º–≤–æ–ª–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞.\n"
                       "'1' == –ò–≥—Ä–∞ –ø—Ä–æ—Ç–∏–≤ –¥—Ä—É–≥–∞\n"
                       "'2' == –ò–≥—Ä–∞ –ø—Ä–æ—Ç–∏–≤ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞\n"
                       "'q' == –í—ã—Ö–æ–¥.\n"
                       "–í–≤–µ–¥–∏—Ç–µ —Ü–∏—Ñ—Ä—É:  ")
        c_lst = ['1', '2', 'q']

        if choice in c_lst:
            if choice == '1':
                game()
                continue  # –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –∏–≥—Ä—ã —á–µ—Ä–µ–∑ "q" –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–µ–Ω—é
            elif choice == '2':
                flag = True
                while flag:
                    d_lst = ['1', '2', '3']
                    diff = input(("\n–í—ã–±–µ—Ä–∏—Ç–µ —Å–ª–æ–∂–Ω–æ—Å—Ç—å, –ø—É—Ç–µ–º –≤–≤–æ–¥–∞ —Å–∏–º–≤–æ–ª–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞.\n"
                           "'1' == –ù–∏–∑–∫–∞—è\n"
                           "'2' == –°—Ä–µ–¥–Ω—è—è\n"
                           "'3' == –ù–∞–∑–∞–¥.\n"
                           "–í–≤–µ–¥–∏—Ç–µ —Ü–∏—Ñ—Ä—É:  "))

                    if diff in d_lst[:-1]:
                        game_ai(diff)
                        flag = False  # –∑–∞–ø—É—Å–∫ –∏–≥—Ä—ã –∏ –≤—ã—Ö–æ–¥ –∏–∑ –æ–±–æ–∏—Ö —Ü–∏–∫–ª–æ–≤
                    if diff == '3':
                        flag = False  # –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ü–∏–∫–ª–∞ –ø–µ—Ä–µ—Ö–æ–¥ –∫ else
                    elif diff not in d_lst:
                        print("–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤–≤–æ–¥! –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤–≤–µ–ª–∏ –æ–¥–Ω—É —Ü–∏—Ñ—Ä—É!")
                        continue  # –ø–æ–≤—Ç–æ—Ä –≤—ã–±–æ—Ä–∞ –ø—Ä–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º –≤–≤–æ–¥–µ
                else:
                    continue  # –≤–æ–∑–≤—Ä–∞—Ç –Ω–∞ –≤–Ω–µ—à–Ω–∏–π —Ü–∏–∫–ª –ø—Ä–∏ –≤—ã–±–æ—Ä–µ "–ù–∞–∑–∞–¥"
                # break  # –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤–Ω–µ—à–Ω–µ–≥–æ —Ü–∏–∫–ª–∞ –ø–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∏–≥—Ä—ã

            elif choice == 'q':
                print('\n–ü–æ–∫–∞ –ü–æ–∫–∞!')
                sys.exit()  # –∑–∞–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ä–µ–∫—É—Ä—Å–∏–π
        else:
            print("–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤–≤–æ–¥! –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤–≤–µ–ª–∏ –æ–¥–Ω—É —Ü–∏—Ñ—Ä—É!")
            continue


print("\n!! –î–û–ë–†–û –ü–û–ñ–ê–õ–û–í–ê–¢–¨ –í –ò–ì–†–£ –ö–†–ï–°–¢–ò–ö–ò-–ù–û–õ–ò–ö–ò !!")  # –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã
menu()


print("## –ò–≥—Ä–∞—é—Å—å —Å –≥–∏—Ç–æ–º")







